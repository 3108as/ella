{% extends "admin/ajax_content_base.html" %}
{% load adminmedia admin_list i18n %}

{% block content_toolbar_content %}
    <ul style="float: left;">
        <li><a class="icn btn filter simpleload" href="filters::::filters/{{Â cl.get_query_string }}">{% trans 'Filters' %}</a></li>
        <li>{% block search %}{% search_form cl %}{% endblock %}</li>
    </ul>
    <ul style="float: right; margin: 3px;">
        {% if has_add_permission %}
            <li>
                <a href="add/" class="hashadr icn btn add">{% blocktrans with cl.opts.verbose_name as name %}Add {{ name }}{% endblocktrans %}</a>
            </li>
        {% endif %}
    </ul>
{% endblock %}

{% block content_services %}
    <div id="filters"></div>
{% endblock %}

{% if cl.formset.errors %}
    <p class="errornote">
    {% blocktrans count cl.formset.errors|length as counter %}Please correct the error below.{% plural %}Please correct the errors below.{% endblocktrans %}
    </p>
    <ul class="errorlist">{% for error in cl.formset.non_field_errors %}<li>{{ error }}</li>{% endfor %}</ul>
{% endif %}

{% block content %}
    <div class="hashadr-container" id="changelist">
        {% if cl.formset %}
            <form action="" method="post"{% if cl.formset.is_multipart %} enctype="multipart/form-data"{% endif %}>
            {{ cl.formset.management_form }}
        {% endif %}

        {% if actions_on_top and cl.full_result_count %}{% admin_actions %}{% endif %}
        {% block result_list %}{% result_list cl %}{% endblock %}
        {% if actions_on_bottom and cl.full_result_count %}{% admin_actions %}{% endif %}
        {% block pagination %}{% pagination cl %}{% endblock %}

        {% if cl.formset %}</form>{% endif %}
    </div>
{% endblock %}

{% block content_js %}
    {{ block.super }}

    {% if media %}
    <script type="text/javascript">
    {% for m in media %}
        request_media('{{ m }}?{{ VERSION }}');
    {% endfor %}
    {% endif %}
    </script>
{% endblock %}
